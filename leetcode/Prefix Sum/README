"subarray with value comparison" --> reminds the use of prefix sum array
The key thing is the use of dictionary (or hashmaps) based on such prefix sum array.
Usually, if hashmap is used successfully, there is no need to actually create that prefix sum array.